<div class="log">
    <img src="assets/img/logIzi.png" alt="Logo principal">
</div>

<div class="contenedor">
    <div class="izquierda">
        <h2>REGISTRARSE</h2>
        <p>Si ya tienes una cuenta,<br>
            <a href="/login">Inicia sesión aquí!</a>
        </p>

        <div class="formulary">
            <form class="columna" [formGroup]="signupForm" (ngSubmit)="onSubmit()">     
                <label for="name">Nombre</label>
                <div class="input-group">
                    <i class="fa-solid fa-rectangle-ad"></i>
                    <input type="text" id="name" formControlName="nombre" placeholder="Ingresa tu nombre"
                        [ngClass]="{'is-invalid': hasError('nombre')}" aria-describedby="nombre-error" />
                    <div id="nombre-error" class="invalid-feedback" *ngIf="hasError('nombre')">
                        {{ getErrorMessage('nombre') }}
                    </div>
                </div>
               
                <label for="lastName">Apellido</label>
                <div class="input-group">
                    <i class="fa-solid fa-rectangle-ad"></i>
                    <input type="text" id="lastName" formControlName="apellido" placeholder="Ingresa tu apellido"
                        [ngClass]="{'is-invalid': hasError('apellido')}" aria-describedby="apellido-error" />
                    <div id="apellido-error" class="invalid-feedback" *ngIf="hasError('apellido')">
                        {{ getErrorMessage('apellido') }}
                    </div>
                </div>

                <label for="document">DNI</label>
                <div class="input-group">
                    <i class="fa-solid fa-address-card"></i>
                    <input type="text" id="document" formControlName="dni" placeholder="Ingresa tu DNI"
                        [ngClass]="{'is-invalid': hasError('dni')}" aria-describedby="dni-error" />
                    <div id="dni-error" class="invalid-feedback" *ngIf="hasError('dni')">
                        {{ getErrorMessage('dni') }}
                    </div>
                </div>
              
                <label for="user">Usuario</label>
                <div class="input-group">
                    <i class="fa-solid fa-user"></i>
                    <input type="text" id="user" formControlName="user" placeholder="Ingresa tu nombre de usuario"
                        [ngClass]="{'is-invalid': hasError('user') || mostrarErrorUsername}"
                        aria-describedby="user-error" />
                    <button type="button" class="generar" (click)="sugerirUsername()">
                        Generar
                    </button>
                    <div id="user-error" class="invalid-feedback" *ngIf="hasError('user')">
                        {{ getErrorMessage('user') }}
                    </div>
                    <div id="username-generation-error" class="invalid-feedback" *ngIf="mostrarErrorUsername">
                        {{ mensajeErrorUsername }}
                    </div>
                </div>
            
                <label for="correo">Correo</label>
                <div class="input-group">
                    <i class="fa-solid fa-envelope"></i>
                    <input type="email" id="correo" formControlName="email" placeholder="Ingresa tu correo electrónico"
                        [ngClass]="{'is-invalid': hasError('email')}" aria-describedby="email-error" />
                    <div id="email-error" class="invalid-feedback" *ngIf="hasError('email')">
                        {{ getErrorMessage('email') }}
                    </div>
                </div>
     
                <label for="password">Contraseña</label>
                <div class="input-group">
                    <i class="fa-solid fa-key"></i>
                    <input [type]="mostrarPassword ? 'text' : 'password'" 
                           id="password" 
                           formControlName="password" 
                           placeholder="Ingresa tu contraseña"
                           [ngClass]="{'is-invalid': hasError('password')}" 
                           aria-describedby="password-error" />
                    <i class="fa-solid password-toggle"
                       [ngClass]="{'fa-eye': !mostrarPassword, 'fa-eye-slash': mostrarPassword}"
                       (click)="togglePasswordVisibility()"></i>
                    <button type="button" class="generar" (click)="sugerirPassword()">
                        Generar
                    </button>
                    <div id="password-error" class="invalid-feedback" *ngIf="hasError('password')">
                        {{ getErrorMessage('password') }}
                    </div>
                </div>

                <button type="submit" class="ingresar">REGISTRAR</button>

                <div class="mensaje-usuario" [ngClass]="{
                    'mensaje-error': mensajeUsuario.includes('error') || mensajeUsuario.includes('Por favor'), 
                    'mensaje-exito': mensajeUsuario.includes('exitosamente')
                }" *ngIf="mostrarMensaje">
                    {{ mensajeUsuario }}
                </div>         
            </form>
        </div>
    </div>

    <div class="derecha">
        <img src="assets/img/logotres.png" alt="Logo adicional">
        <h3>To-Do List</h3>
        <p>Tu lista de tareas en un solo lugar</p>
    </div>
</div>